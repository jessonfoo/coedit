<style>
  .firepad-userlist {
    position: absolute; left: 0; top: 0; bottom: 0; height: auto;
    width: 175px;
  }
  .firepad {
    position: absolute; left: 175px; top: 0; bottom: 0; right: 0; height: auto;
  }

  #firepad-container {
    position: absolute; left: 0; top: 0; bottom: 0; right: 0;
  }
</style>
<div class="jumbotron center">
  <h2>Editor</h2>

  <div style="container" style="width:100vw;">
    <div id="userlist" class="col-xs-3"></div>
    <div class="row">
      <div id="firepad-container"></div>



      <div class="col-md-6 col-sm-6 col-xs-6">
        <h3>Chat<button id="clearAllPosts" type="button" class="btn btn-danger btn-xs pull-right">clear</button></h3>
        <div id="allPosts" class="form-control"></div>
        <div class="input-group">
          <input id="blast" type="text" class="form-control" placeholder="send something to everyone">
          <span class="input-group-btn">
            <button id="send" class="btn btn-success" type="button">Send</button>
          </span>
        </div><!-- /input-group -->
      </div>
    </div>
  </div>
</div>



<script>

  var firepadRef = getRef();

  var editor = ace.edit("firepad-container");
  editor.setTheme("ace/theme/monokai");
  var session = editor.getSession();
  session.setUseWrapMode(true);
  session.setUseWorker(true);
  session.setMode("ace/mode/javascript");
  //// Create CodeMirror (with lineWrapping on).

  // Create a random ID to use as our user ID (we must give this to firepad and FirepadUserList).
  var userId = Math.floor(Math.random() * 9999999999).toString();

  //// Create Firepad (with rich text features and our desired userId).
  var firepad = Firepad.fromACE(firepadRef, editor, { userId: userId});

  //// Create FirepadUserList (with our desired userId).
  var firepadUserList = FirepadUserList.fromDiv(firepadRef.child('users'),
                                                document.getElementById('userlist'), userId);

  //// Initialize contents.
  firepad.on('ready', function() {
    if (firepad.isHistoryEmpty()) {
      firepad.setText('// JavaScript Editing with Firepad!\nfunction go() {\n  var message = "Hello, world.";\n  console.log(message);\n}');
    }
  });
</script>
