<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
  <link rel="stylesheet" href="styles/main.css">
  <script src="https://cdn.firebase.com/js/client/1.0.11/firebase.js"></script>

  <script src="scripts/ace/ace.js"></script>
  <script src="scripts/ace/mode-javascript.js"></script>
  <script src="scripts/ace/theme-monokai.js"></script>
  <script src="scripts/firepad/firepad.js"></script>
  <link rel="stylesheet" href="scripts/firepad/firepad.css" />
  <script src="scripts/helpers/helper.js"></script>
  <script src="scripts/helpers/userlist.js"></script>
  <link rel="stylesheet" href="styles/userlist.css" />
</head>
<body ng-app="coeditApp">
<!--[if lt IE 7]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
  your browser</a> to improve your experience.</p>
<![endif]-->

<!-- Add your site or application content here -->
<div class="header" ng-controller="MainCtrl" ng-cloak="">
  <div class="navbar navbar-default" role="navigation">
    <div class="container">
      <div class="navbar-header">

        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="navbar-brand" href="#/">coedit</a>
      </div>

      <div class="collapse navbar-collapse" id="js-navbar-collapse">

          <ul class="nav navbar-nav">
            <!-- //angularfire -->

            <li class=""><a href="#/chat">Chat</a></li>

            <li class=""><a href="#/account" ng-show-auth="">Account</a></li>
            <li class=""><a href="#/login" ng-hide-auth="">Login</a></li>
            <li class=""><a href="#/editor" ng-show-auth="">Editor</a></li>
            <li class=""><a href="" ng-show-auth="" ng-click="logout()">Logout</a></li>

          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="container main-view-container">

    <div ng-view=""></div>

  </div>

      <div id="firepad-container"></div>



  <!-- build:js(.) scripts/vendor.js -->
  <!-- bower:js -->
  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/firebase/firebase.js"></script>
  <script src="bower_components/angularfire/dist/angularfire.js"></script>
  <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
  <script src="bower_components/angular-animate/angular-animate.js"></script>
  <script src="bower_components/angular-aria/angular-aria.js"></script>
  <script src="bower_components/angular-cookies/angular-cookies.js"></script>
  <script src="bower_components/angular-messages/angular-messages.js"></script>
  <script src="bower_components/angular-resource/angular-resource.js"></script>
  <script src="bower_components/angular-route/angular-route.js"></script>
  <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
  <script src="bower_components/angular-touch/angular-touch.js"></script>
  <!-- endbower -->
  <!-- endbuild -->
  <script>
    var config = {
      apiKey: 'AIzaSyAZg8ryRWpscxKdu0r9sdkzc53QeSAe4C0',
      authDomain: 'coedit-4b1b9.firebaseapp.com',
      databaseURL: 'https://coedit-4b1b9.firebaseio.com',
      storageBucket: 'coedit-4b1b9.appspot.com'
    };

    firebase.initializeApp(config);
    var database= firebase.database();
    const rootRef = database.ref();

  </script>

<script>

    var ref =rootRef;
  var firepadRef = getRef();

  var editor = ace.edit("firepad-container");
  editor.setTheme("scripts/ace/theme/monokai");
  var session = editor.getSession();
  session.setUseWrapMode(true);
  session.setUseWorker(true);
  session.setMode("scripts/ace/mode/javascript");
  //// Create CodeMirror (with lineWrapping on).

  // Create a random ID to use as our user ID (we must give this to firepad and FirepadUserList).
  var userId = Math.floor(Math.random() * 9999999999).toString();

  //// Create Firepad (with rich text features and our desired userId).
  var firepad = Firepad.fromACE(firepadRef, editor, { userId: userId});

  //// Create FirepadUserList (with our desired userId).
  var firepadUserList = FirepadUserList.fromDiv(firepadRef.child('users'),
                                                document.getElementById('userlist'), userId);

  //// Initialize contents.
  firepad.on('ready', function() {
    if (firepad.isHistoryEmpty()) {
      firepad.setText('// JavaScript Editing with Firepad!\nfunction go() {\n  var message = "Hello, world.";\n  console.log(message);\n}');
    }
  });
</script>

        <!-- build:js({.tmp,app}) scripts/scripts.js -->
        <script src="scripts/app.js"></script>
        <script src="scripts/controllers/main.js"></script>
        <script src="scripts/controllers/chat.js"></script>
        <script src="scripts/filters/reverse.js"></script>
        <script src="scripts/angularfire/auth.js"></script>
        <script src="scripts/controllers/login.js"></script>
        <script src="scripts/controllers/account.js"></script>
        <script src="scripts/controllers/editor.js"></script>
        <script src="scripts/directives/ngShowAuth.js"></script>
        <script src="scripts/directives/ngFirePad.js"></script>
        <script src="scripts/directives/ngHideAuth.js"></script>
        <script src="scripts/routes.js"></script>
        <!-- endbuild -->
</body>
</html>

